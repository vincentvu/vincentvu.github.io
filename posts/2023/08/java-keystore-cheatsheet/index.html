<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vincent Vu's Blog | Java Keystore Cheatsheet</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Vincent Vu" />

    <meta name="keywords" content="notes,bash" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/pages/about.html">About</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="/">
            <image src='' class="avatar" width="50px" /><span class="site_title">Vincent Vu's Blog</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Aug 08, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/posts/2023/08/java-keystore-cheatsheet/" rel="bookmark" title="Permanent Link to &quot;Java Keystore Cheatsheet&quot;">Java Keystore Cheatsheet</a>
                </h2>

                
                

                <h3>Create a java keystore</h3>
<div class="highlight"><pre><span></span><code><span class="n">keytool</span><span class="w"> </span><span class="o">-</span><span class="n">importcert</span><span class="w"> </span><span class="o">-</span><span class="n">trustcacerts</span><span class="w"> </span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">example</span><span class="o">-</span><span class="n">cert</span><span class="o">.</span><span class="n">pem</span><span class="w"> </span><span class="o">-</span><span class="n">alias</span><span class="w"> </span><span class="n">ca</span><span class="w"> </span><span class="o">-</span><span class="n">keystore</span><span class="w"> </span><span class="n">keystore</span><span class="o">.</span><span class="n">jks</span>
</code></pre></div>

<h3>List content of the key</h3>
<div class="highlight"><pre><span></span><code><span class="n">keytool</span> <span class="o">-</span><span class="nb">list</span> <span class="o">-</span><span class="n">v</span> <span class="o">-</span><span class="n">keystore</span> <span class="n">keystore</span><span class="o">.</span><span class="n">jks</span>
 <span class="err">```</span>

<span class="c1">### import .crt and .key files into jks</span>
<span class="err">```</span><span class="n">bash</span>
<span class="n">openssl</span> <span class="n">pkcs12</span> <span class="o">-</span><span class="n">export</span> <span class="o">-</span><span class="ow">in</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">tls</span><span class="o">/</span><span class="n">certs</span><span class="o">/</span><span class="n">logstash</span><span class="o">-</span><span class="n">forwarder</span><span class="o">.</span><span class="n">crt</span> <span class="o">-</span><span class="n">inkey</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">tls</span><span class="o">/</span><span class="n">private</span><span class="o">/</span><span class="n">logstash</span><span class="o">-</span><span class="n">forwarder</span><span class="o">.</span><span class="n">key</span> <span class="o">-</span><span class="n">out</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">tls</span><span class="o">/</span><span class="n">keystore</span><span class="o">/</span><span class="n">logstash</span><span class="o">-</span><span class="n">forwarder</span><span class="o">.</span><span class="n">p12</span>

<span class="n">keytool</span> <span class="o">-</span><span class="n">importkeystore</span> <span class="o">-</span><span class="n">srckeystore</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">tls</span><span class="o">/</span><span class="n">keystore</span><span class="o">/</span><span class="n">logstash</span><span class="o">-</span><span class="n">forwarder</span><span class="o">.</span><span class="n">p12</span>\
        <span class="o">-</span><span class="n">srcstoretype</span> <span class="n">PKCS12</span> \
        <span class="o">-</span><span class="n">destkeystore</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">tls</span><span class="o">/</span><span class="n">keystore</span><span class="o">/</span><span class="n">logstash</span><span class="o">-</span><span class="n">forwarder</span><span class="o">.</span><span class="n">jks</span> \
        <span class="o">-</span><span class="n">deststoretype</span> <span class="n">JKS</span>
</code></pre></div>

<h3>Get key file content</h3>
<div class="highlight"><pre><span></span><code>keytool<span class="w"> </span>-v<span class="w"> </span>-list<span class="w"> </span>-keystore<span class="w">   </span>/etc/pki/tls/keystore/logstash-forwarder.jks
</code></pre></div>
                <div class="clear"></div>

                <div class="info">
                    <a href="/posts/2023/08/java-keystore-cheatsheet/">posted at 13:01</a>
                    &nbsp;&middot;&nbsp;<a href="/category/devops.html" rel="tag">DevOps</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/notes.html" class="tags">notes</a>
                    &nbsp;<a href="/tag/bash.html" class="tags">bash</a>
                </div>
            </article>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>